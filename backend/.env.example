# Backend environment
NODE_ENV=development
PORT=8080

# Request body limits
# Keep this as low as your product allows to reduce DoS risk.
# If you use AI routes or base64 screenshot uploads, you may need several MB.
# Format examples: 500kb, 2mb, 10mb
REQUEST_BODY_LIMIT=10mb

# MongoDB
# Set to a real connection string for a real DB.
# Set to <REPLACE_ME> (or any <...> placeholder) to use the built-in in-memory MongoDB in local dev.
MONGODB_URI=<REPLACE_ME>
# Explicit database name override (recommended for production).
# If not set, defaults to "mobo".  Set this to match your Atlas database.
MONGODB_DBNAME=mobo

# PostgreSQL â€” Prisma dual-write migration
# Set to a PostgreSQL connection string. Leave empty to skip PG writes.
DATABASE_URL=
# Connection pool settings (optional)
PG_POOL_MAX=10
PG_IDLE_TIMEOUT=30000
PG_CONNECT_TIMEOUT=5000
# Enable shadow dual-write to PG alongside every Mongo write.
DUAL_WRITE_ENABLED=false

# Auth
JWT_ACCESS_SECRET=<REPLACE_ME>
JWT_REFRESH_SECRET=<REPLACE_ME>
JWT_ACCESS_TTL_SECONDS=900
JWT_REFRESH_TTL_SECONDS=2592000

# CORS
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:3003,http://localhost:3004,http://localhost:3005

# Gemini (optional)
# Leave blank to disable AI routes locally.
GEMINI_API_KEY=

# Web Push (VAPID)
# In production, set real VAPID keys. In development they are auto-generated if missing.
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@example.com

# Admin-only seed/reset helpers
#
# Admin login is username/password (not mobile) for admin/ops.
# These are consumed by:
# - `npm -w @mobo/backend run seed:admin`
# - `npm -w @mobo/backend run reset:admin`
ADMIN_SEED_USERNAME=root
ADMIN_SEED_PASSWORD=ChangeMe_123!
ADMIN_SEED_MOBILE=9000000000
ADMIN_SEED_NAME=Root Admin

# DANGER ZONE (DB wipe)
#
# `reset:admin` will DROP THE ENTIRE DATABASE then seed ONLY the admin above.
# It refuses to run if NODE_ENV=production.
# It also refuses to wipe non-local MongoDB URIs unless explicitly allowed.
WIPE_DB=false
WIPE_DB_CONFIRM=
WIPE_DB_ALLOW_REMOTE=false
